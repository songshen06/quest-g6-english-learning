@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-gray-200;
  }

  body {
    @apply bg-white text-gray-900;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* ADHD-friendly focus styles */
  *:focus-visible {
    @apply ring-2 ring-primary-500 ring-offset-2 outline-none;
  }

  /* High contrast mode styles */
  .contrast-more {
    --tw-border-opacity: 1;
    --tw-text-opacity: 1;
  }

  .contrast-more * {
    border-color: currentColor !important;
  }

  /* Reduced motion */
  .motion-reduce * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Large text mode */
  .text-large {
    font-size: 1.125rem;
    line-height: 1.75;
  }

  .text-extra-large {
    font-size: 1.25rem;
    line-height: 1.75;
  }

  /* Simplified mode */
  .simplified-mode .secondary-info {
    @apply opacity-50;
  }

  /* Low stimulus mode */
  .low-stimulus * {
    animation: none !important;
    transition: none !important;
  }

  .low-stimulus .hover-effects:hover {
    transform: none !important;
  }
}

@layer components {
  /* Card component */
  .card {
    @apply rounded-lg border bg-white text-gray-900 shadow-sm;
  }

  .card:hover {
    @apply shadow-md;
  }

  .low-stimulus .card:hover {
    @apply shadow-sm;
  }

  /* Button component */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium bg-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700;
  }

  .btn-secondary {
    @apply btn bg-gray-100 text-gray-900 hover:bg-gray-200;
  }

  .btn-outline {
    @apply btn border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900;
  }

  .btn-lg {
    @apply btn h-11 px-8 text-lg;
  }

  /* ADHD-friendly large button */
  .btn-adhd {
    @apply btn btn-lg px-12 py-6 text-xl font-semibold;
  }

  /* Progress bar */
  .progress-bar {
    @apply w-full bg-gray-200 rounded-full h-2;
  }

  .progress-fill {
    @apply bg-primary-600 h-2 rounded-full transition-all duration-300;
  }

  .low-stimulus .progress-fill {
    @apply transition-none;
  }

  /* Skill card */
  .skill-card {
    @apply p-6 rounded-xl border-2 border-gray-200 hover:border-primary-400 transition-all duration-200 cursor-pointer;
  }

  .skill-card:hover {
    @apply shadow-lg transform -translate-y-1;
  }

  .low-stimulus .skill-card:hover {
    @apply transform-none shadow-md;
  }

  .simplified-mode .skill-card {
    @apply p-4;
  }

  /* Quest step */
  .quest-step {
    @apply p-8 rounded-2xl bg-gradient-to-br from-primary-50 to-blue-50 border border-primary-100;
  }

  .dark .quest-step {
    @apply from-primary-900/20 to-blue-900/20 border-primary-800;
  }

  /* Timer bar */
  .timer-bar {
    @apply h-1 bg-red-500 rounded-full transition-all duration-1000 origin-left;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .badge-default {
    @apply badge border-transparent bg-primary-100 text-primary-800 hover:bg-primary-200;
  }

  .dark .badge-default {
    @apply bg-primary-800 text-primary-100;
  }

  /* Loading spinner */
  .loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600;
  }

  .low-stimulus .loading-spinner {
    animation: none;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* ADHD-friendly spacing utilities */
  .space-focus {
    @apply space-y-6;
  }

  .space-focus-lg {
    @apply space-y-8;
  }

  .p-focus {
    @apply p-6;
  }

  .p-focus-lg {
    @apply p-8;
  }

  /* Safe area for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}